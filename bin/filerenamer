#!/usr/bin/env ruby

require 'optparse'
require_relative '../lib/path_processor'
require_relative '../lib/name_alterer'

begin
  params = {}
  OptionParser.new do |opts|
    opts.on('-n', '--name STRING', String)
    opts.on('-p', '--prefix STRING', String)
    opts.on('-e', '--ext STRING', String)
    opts.on('-d', '--dir STRING', String)
  end.parse!(into: params)
rescue OptionParser::MissingArgument
  puts "Argument error."
end 

session = FileRenamer::PathProcessor.new(args: { params: params })

puts "#{session.counter} paths renamed!"
